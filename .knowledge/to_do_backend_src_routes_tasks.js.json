{"is_source_file": true, "format": "JavaScript (Node.js/Express)", "description": "This file defines an Express router for handling CRUD operations for tasks in a to-do list backend. It provides endpoints for listing, retrieving, creating, updating, and deleting tasks stored in an SQLite database, along with utility functions for validation and data mapping.", "external_files": ["express (imported as 'express')"], "external_methods": ["express.Router()", "req.db.all", "req.db.get", "req.db.run"], "published": ["router"], "classes": [], "methods": [{"name": "isValidStatus", "description": "Checks if the provided status is either 'pending' or 'completed'."}, {"name": "mapRow", "description": "Maps a database row to a task object (identity function in this case)."}, {"name": "onDelete(err)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "onInsert(err)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "onUpdate(err2)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["express.Router()", "req.db.all", "req.db.get", "req.db.run", "res.json", "res.status", "res.send"], "search-terms": ["tasks router", "SQLite CRUD endpoints", "Express router tasks", "task API routes", "task database queries"], "state": 2, "file_id": 22, "knowledge_revision": 49, "git_revision": "822dff06edb107f540c672c7aa0991aa5aeba84f", "ctags": [{"_type": "tag", "name": "isValidStatus", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-297211-297220/to_do_backend/src/routes/tasks.js", "pattern": "/^const isValidStatus = (s) => s === 'pending' || s === 'completed';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mapRow", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-297211-297220/to_do_backend/src/routes/tasks.js", "pattern": "/^const mapRow = (row) => row;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "onDelete", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-297211-297220/to_do_backend/src/routes/tasks.js", "pattern": "/^  req.db.run('DELETE FROM tasks WHERE id = ?', [id], function onDelete(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "onInsert", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-297211-297220/to_do_backend/src/routes/tasks.js", "pattern": "/^  req.db.run(sql, [title.trim(), String(description || ''), status], function onInsert(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}, {"_type": "tag", "name": "onUpdate", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-297211-297220/to_do_backend/src/routes/tasks.js", "pattern": "/^    req.db.run(sql, [nextTitle, nextDesc, nextStatus, id], function onUpdate(err2) {$/", "language": "JavaScript", "kind": "function", "signature": "(err2)"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/simple-to-do-list-297211-297220/to_do_backend/src/routes/tasks.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}], "hash": "16841d3f31e97b729a507e8f8fb0a52b", "format-version": 4, "code-base-name": "to_do_frontend", "filename": "to_do_backend/src/routes/tasks.js", "revision_history": [{"49": "822dff06edb107f540c672c7aa0991aa5aeba84f"}]}